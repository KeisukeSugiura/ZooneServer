<!DOCTYPE html>
<html>
<head>
	<title>login</title>
	<link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap.min.css">

    <!-- Bootstrap Material Design -->
    <link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap-material-design.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/ripples.min.css">

	<!-- to keep the abilities of using Node.js and Electron APIs -->
    <script>
      window.nodeRequire = require
      delete window.require
      delete window.exports
      delete window.module
    </script>

    <script src="/javascripts/jquery.min.js"></script>
</head>
<body>
	<style type="text/css">
		html {
			padding:0px 0px 0px 0px;
			margin:0px 0px 0px 0px;
			background: transparent;
			width:100%;
			height:100%;
		}
		body {
			padding:0px 0px 0px 0px;
			margin:0px 0px 0px 0px;
			background-image:  url("/images/jungle.jpg");
			width:100%;
			height:100%;
		}
		#login_div {
			background-color: white;
			border-radius: 50%;
			width:100%;
			height:50%;
			margin-top : 50%;
		}
	</style>
	<div class="container">
		<div id="login_div">
			<div class="form-group label-floating">
			  	<label class="control-label" id="userName_input" for="focusedInput1">input username</label>
			  	<input class="form-control" id="focusedInput1" type="text">
				<!-- <button class="btn btn-success" id="login_button">login</button> -->
			</div>
		</div>
	</div>

	<!--
        import javascript
    -->

    <!-- Twitter Bootstrap -->
    <script src="/javascripts/bootstrap.min.js"></script>

    <!-- Material Design for Bootstrap -->
    <script src="/javascripts/material.js"></script>
    <script src="/javascripts/ripples.min.js"></script>
    <script>
      $.material.init();
      const {ipcRenderer} = nodeRequire('electron')

      const userName_input = document.getElementById("focusedInput1")
		// const login_button = document.getElementById("login_button")
		// login_button.addEventListener("click",()=>{
		// 	var username = userName_input.value
		// 	if(username.length == 0){
		// 		username = createUniqueId()
		// 	}
		// 	ipcRenderer.send("login",{userName:username})
		// })      

		userName_input.addEventListener('keypress',(e)=>{
			var key = e.which || e.keyCode;
			    if (key === 13) { // 13 is enter
			      // code for enter
			      var username = userName_input.value
					if(username.length == 0){
						username = createUniqueId()
					}
					ipcRenderer.send("login",{userName:username})
			    }
		})

	function createUniqueId(){
    	return Math.random().toString(36).slice(-8)
  	}
    </script>
</body>
</html>